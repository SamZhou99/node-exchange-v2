(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e4e263c"],{"56a2":function(t,a,i){"use strict";i("97fc")},"97fc":function(t,a,i){},c168:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"startup"},[i("a-spin",{attrs:{spinning:t.loading}},[i("div",{staticClass:"spin-content"},[i("a-row",[i("div",{staticClass:"mt30"}),i("a-col",{staticClass:"starting-project",attrs:{span:16,offset:4}},[i("a-col",{staticClass:"t-left",attrs:{span:12}},[t._v("Starting project")]),i("a-col",{staticClass:"t-right",attrs:{span:12}},[i("span",{staticStyle:{cursor:"pointer"},on:{click:t.onClickBack}},[t._v("<< Back ")])])],1),i("a-col",{staticClass:"bg-body",attrs:{span:16,offset:4}},[i("div",{staticClass:"mt30"}),t.isShow?i("div",{staticClass:"t-left"},[i("a-row",{staticClass:"t-w"},[i("a-col",{staticClass:"m5",attrs:{span:12}},[i("img",{staticClass:"img-r",attrs:{alt:"image",src:"https://leth-ex.com/images/publish-01.jpg",width:"100%"}})]),i("a-col",{staticClass:"m5",attrs:{span:12}},[i("div",{staticClass:"t1"},[t._v(t._s(this.itemData.symbol))]),i("div",[t._v("　　"+t._s(this.itemData.abstract))])])],1),i("a-row",{staticClass:"t-w"},[i("a-col",[i("hr")]),i("a-col",{staticClass:"t-center t1"},[i("a-row",[i("a-col",{staticClass:"t-right",attrs:{span:12}},[t._v("Countdown：")]),i("a-col",{staticClass:"t-left",attrs:{span:12}},[i("a-statistic-countdown",{attrs:{title:"",value:t.deadline,format:"YYYY-MM-DD HH:mm:ss:SSS","value-style":{color:"#f00",fontSize:"2rem",fontFamily:"Courier New, Courier, monospace"}},on:{finish:t.onFinishCountdown}})],1)],1),i("a-row",[i("a-col",{staticClass:"t-right",attrs:{span:12}},[t._v("Start Time：")]),i("a-col",{staticClass:"t-left",attrs:{span:12}},[t._v(t._s(t.itemData.start_time))])],1),i("a-row",[i("a-col",{staticClass:"t-right",attrs:{span:12}},[t._v("End Time：")]),i("a-col",{staticClass:"t-left",attrs:{span:12}},[t._v(t._s(t.itemData.end_time))])],1)],1),i("a-col",[i("hr")]),i("a-col",[i("a-row",{staticClass:"t-center",attrs:{type:"flex",justify:"center",align:"top"}},[i("a-col",{staticClass:"m5",attrs:{span:8}},[i("div",{staticStyle:{width:"100%"}},[i("p",[i("strong",[t._v("Coin Type：USDT")])]),i("p",[t._v("Exchange Ratio")]),i("p",[t._v("1 : "+t._s(t.ratio.usdt))]),i("p",[i("a-button",{attrs:{disabled:t.isDisabled,type:"danger"},on:{click:function(a){return t.onClickShowParticipation("USDT")}}},[t._v("Participation")])],1)])]),i("a-col",{staticClass:"m5",attrs:{span:8}},[i("div",{staticStyle:{width:"100%"}},[i("p",[i("strong",[t._v("Coin Type：ETH")])]),i("p",[t._v("Exchange Ratio")]),i("p",[t._v("1 : "+t._s(t.ratio.eth))]),i("p",[i("a-button",{attrs:{disabled:t.isDisabled,type:"danger"},on:{click:function(a){return t.onClickShowParticipation("ETH")}}},[t._v("Participation")])],1)])]),i("a-col",{staticClass:"m5",attrs:{span:8}},[i("div",{staticStyle:{width:"100%"}},[i("p",[i("strong",[t._v("Coin Type：BTC")])]),i("p",[t._v("Exchange Ratio")]),i("p",[t._v("1 : "+t._s(t.ratio.btc))]),i("p",[i("a-button",{attrs:{disabled:t.isDisabled,type:"danger"},on:{click:function(a){return t.onClickShowParticipation("BTC")}}},[t._v("Participation")])],1)])])],1)],1),i("a-col",[i("hr")])],1),i("a-row",{staticClass:"t-w"},[i("a-col",{staticClass:"m5",attrs:{span:24}},[i("div",{staticClass:"t1"},[t._v("Introduction")]),i("div",[t._v("　　"+t._s(this.itemData.desc))])])],1)],1):t._e()])],1),i("a-row",[i("div",{staticClass:"mt30"})])],1)]),i("a-modal",{attrs:{"on-ok":"onClickModalOk",title:"Enter Participation",keyboard:!1,maskClosable:!1},on:{ok:t.onClickModalOk,cancel:t.onClickModalCancel},model:{value:t.modal.visible,callback:function(a){t.$set(t.modal,"visible",a)},expression:"modal.visible"}},[i("a-row",[i("a-col",{attrs:{span:12}},[t._v("Available Balance："),i("span",{staticClass:"t-red"},[t._v(t._s(t.currCoinBalance)+" "+t._s(t.currCoinType))])]),i("a-col",{staticClass:"t-right",attrs:{span:12}},[i("a-button",{attrs:{disabled:t.loading_modal,type:"link"},on:{click:t.onClickAllin}},[t._v("Allin")])],1)],1),i("a-row",[i("a-col",{staticClass:"t-right",attrs:{span:11}},[t._v(t._s(t.currCoinType))]),i("a-col",{staticClass:"t-center",attrs:{span:2}},[t._v("=>")]),i("a-col",{attrs:{span:11}},[t._v(t._s(t.symbol.toLocaleUpperCase()))])],1),i("a-row",[i("a-col",{staticClass:"t-right",attrs:{span:11}},[i("a-input",{staticClass:"t-right",attrs:{disabled:t.loading_modal,placeholder:t.currCoinType,type:"number",min:"0"},model:{value:t.currCoinAmount,callback:function(a){t.currCoinAmount=a},expression:"currCoinAmount"}})],1),i("a-col",{staticClass:"t-center",attrs:{span:2}},[t._v("≈")]),i("a-col",{attrs:{span:11}},[i("a-input",{attrs:{placeholder:t.symbol.toLocaleUpperCase(),type:"number",min:"0","read-only":""},model:{value:t.currPlatformCoinAmount,callback:function(a){t.currPlatformCoinAmount=a},expression:"currPlatformCoinAmount"}})],1)],1),i("template",{slot:"footer"},[i("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading_modal},on:{click:t.onClickModalOk}},[t._v(" Submit ")])],1)],2)],1)},o=[],n=(i("b0c0"),i("99af"),{name:"Startup",components:{},data:function(){return{loading:!1,loading_modal:!1,isShow:!1,symbol:"",itemData:{},walletList:[],modal:{visible:!1},deadline:Date.now(),isDisabled:!1,currCoinBalance:0,currCoinType:"",currCoinAmount:0,currPlatformCoinAmount:0,ratio:{usdt:0,eth:0,btc:0},modalTemp:0}},watch:{currCoinAmount:function(t){this.updatePlatformCoinAmount()}},destroyed:function(){clearTimeout(this.modalTemp)},methods:{onClickAllin:function(){this.currCoinAmount=this.currCoinBalance,this.updatePlatformCoinAmount()},onClickBack:function(){this.$router.go(-1)},onClickModalOk:function(){var t=this;if(this.currCoinAmount<=0||this.currPlatformCoinAmount<=0)this.$message.warning("The participation value cannot be zero!");else{this.loading_modal=!0;var a={user_id:this.g.userInfo.id,CoinAmount:this.currCoinAmount,CoinType:this.currCoinType,PlatformCoinAmount:this.currPlatformCoinAmount,PlatformCoinType:this.symbol.toLocaleUpperCase()};$.post("".concat(this.g.apiUrl,"/api/participation-currency-platform"),a,(function(a){if("ok"!=a.flag)return t.loading_modal=!1,void t.$message.error(a.flag);clearTimeout(t.modalTemp),t.modalTemp=setTimeout((function(){t.loading_modal=!1,t.modal.visible=!1,t.$message.success("Participate in the success！"),t.initCurrencyPlatformData()}),1e3)})).fail((function(a){t.loading_modal=!1,t.$message.error(a.statusText)}))}},onClickModalCancel:function(t){this.loading_modal=!1},onClickShowParticipation:function(t){this.g.userInfo?(this.currCoinAmount=0,this.currCoinType=t,this.currCoinBalance=this.getWallet(t).assets_amount,this.currPlatformCoinAmount=0,this.modal.visible=!0):this.$router.push("/login")},onFinishCountdown:function(){this.isDisabled=!0},updatePlatformCoinAmount:function(){this.currCoinBalance>=this.currCoinAmount?this.currPlatformCoinAmount=this.g.round2(this.currCoinAmount*this.ratio[this.currCoinType.toLocaleLowerCase()],8):this.currCoinAmount=this.currCoinBalance},getWallet:function(t){for(var a=this.walletList,i=0;i<a.length;i++){var s=a[i];if(s.name.toLocaleLowerCase()==t.toLocaleLowerCase())return s}},getCoinRatio:function(t,a){for(var i=0;i<t.length;i++){var s=t[i];if(s.symbol==a.toLocaleLowerCase())return s}return null},initCurrencyPlatformData:function(){var t=this;this.loading=!0;var a="".concat(this.g.apiUrl,"/api/").concat(this.symbol,"/currency-platform"),i={};this.g.userInfo&&(i.user_id=this.g.userInfo.id),$.get(a,i,(function(a){if(t.loading=!1,"ok"==a.flag){var i=a.data.currencyPlatform;i.start_time=moment(i.start_time).format("YYYY-MM-DD HH:mm"),i.end_time=moment(i.end_time).format("YYYY-MM-DD HH:mm"),t.itemData=i,t.isShow=!0,t.deadline=i.end_time,(new Date).getTime()>new Date(i.end_time).getTime()&&(t.isDisabled=!0),t.walletList=a.data.walletList,t.ratio.usdt=t.g.round2(1/i.usdt_exchange,8),t.ratio.eth=t.g.round2(1/i.usdt_exchange*t.getCoinRatio(a.data.caches,"ethusdt").close,8),t.ratio.btc=t.g.round2(1/i.usdt_exchange*t.getCoinRatio(a.data.caches,"btcusdt").close,8)}else t.$message.error(a.flag)})).fail((function(i){t.loading=!1,t.$message.error([a,i.statusText])}))},init:function(){var t=this.g.getQueryVariable("name");t?(this.symbol=t,this.initCurrencyPlatformData()):this.$message.error("没有这个平台币信息 : "+t)}},mounted:function(){this.init()}}),e=n,r=(i("56a2"),i("2877")),l=Object(r["a"])(e,s,o,!1,null,"751399c5",null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-9e4e263c.16d7cadd.js.map